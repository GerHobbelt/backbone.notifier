<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/html">
<head> 
<meta charset=utf-8 /> 
<title>Backbone.js Notifier</title>

<!-- Used by example page -->
<link rel="stylesheet" type="text/css" href="example-css/bootstrap.css">
<link rel="stylesheet" type="text/css" href="example-css/example.css">
<link rel="stylesheet" type="text/css" href="example-css/prettify.css">
<!-- Used /by example page -->

<!-- Backbone.Notidier CSS  -->
<link rel="stylesheet" type="text/css" href="css/notifier.css">
<!-- /Backbone.Notidier CSS  -->

</head>
<body>

 <div class="navbar" id="topBar">
      <div class="navbar-inner">
        <div class="container wrapper-940">
          <button type="button" class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>

		<div class="social-btns">
		<iframe src="http://markdotto.github.com/github-buttons/github-btn.html?user=ewebdev&repo=backbone.notifier&type=watch&count=true"
				allowtransparency="true" frameborder="0" scrolling="0" width="90px" height="20px"></iframe>
		<iframe src="http://markdotto.github.com/github-buttons/github-btn.html?user=ewebdev&repo=backbone.notifier&type=fork&count=true"
				allowtransparency="true" frameborder="0" scrolling="0" width="82px" height="20px"></iframe>
		<iframe src="http://markdotto.github.com/github-buttons/github-btn.html?user=ewebdev&repo=backbone.notifier&type=follow"
				allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="20px"></iframe>
		</div>

		</div>
      </div>
</div>

 <section id="intro">
	 <div class="intro-ph">
		 <h1>Backbone.Notifier</h1>
		 <button id="btnTour" class="btn-primary btn btn-large">Quick Tour</button>
	 </div>
 </section>

<div class="container" id="main">

<div class="instructions">

	<section id="dependencies">
		<div class="page-header">
		<h1>1. Dependencies<small></small></h1>
		</div>
		<div class="row">
		    <div class="span12">
		    	<ol>
		    		<li><code><a href="http://jquery.com" rel="nofollow">jQuery</a></code></li>
		    		<li><code><a href="http://underscorejs.org/" rel="nofollow">underscore.js</a></code></li>
		    		<li><code><a href="http://backbonejs.org" rel="nofollow">backbone.js</a></code></li>
		    	</ol>
		    </div>
		</div>
	</section>


	<section id="installation">
		<div class="page-header">
		<h1>2. Installation<small></small></h1>
		</div>
		<div class="row">
		    <div class="span12 btns-wrapper">
				<a class="btn btn-primary btn-large" href="https://github.com/ewebdev/backbone.notifier/zipball/master">Download</a>
				<a class="btn btn-large" href="https://github.com/ewebdev/backbone.notifier/">project on github</a>
			</div>
		</div>
		<div class="row">
			<div class="span12">
				<strong>Notifier's resources:</strong>
		    	<ul>
		    		<li><code class="file">&lt;link rel="stylesheet" type="text/css" href="<strong>css/notifier.css</strong>"&gt;</code> <span>Add this to the head section. Feel free to modify.</span></li>
		    		<li><code class="file">&lt;script type="text/javascript" src="<strong>js/Backbone.Notifier.js</strong>"&gt;&lt;/script&gt;</code> <span>Place this tag <strong>after</strong> <em>backbone.js</em></span></li>
		    		<li><code class="file"><strong>imgs/loader.gif</strong></code> <span>You can use your own loader image (referenced in css file)</span></li>
		    	</ul>
			</div>
		</div>
	</section>


	<section id="initialization">
		<div class="page-header">
		<h1>3. Initialization<small></small></h1>
		</div>

		<div class="row">
		    <div class="span12">

				<div class="code-wrapper">
					<div class="title">
						<h3>1. Create notifier with default config <small>The config is <strong>optional</strong>!</small></h3>
					</div>
				<div class="code"><pre class="prettyprint">
	var notifier = new Backbone.Notifier({		// defaults
		el: 'body', 		// container for notification (default: 'body')
		baseCls: 'notifier',	// css classes prefix, should match css file and can be changed to avoid conflicts.
		types: ['warning', 'error', 'info', 'success'], // available notification styles
		cls: null, 		// default notification style (null / 'warning' / 'error' / 'info' / 'success')
		ms: 5000,		// milliseconds before hiding (default: 10000)
		hideOnClick: true,	// whether to hide the notifications on mouse click (default: true)
		loader: false,		// whether to display loader animation in notifactions (default: false)
		destroy: false,		// notification or selector of nofications to hide on show (default: false)
		modal: false,		// whether to dark and block the UI behind the nofication (default: false)
		opacity: 1,		// opacity of nofications (default: 1)
		top: -500,		// distance between the notifications and the top edge (default: 0)
		fadeInMs: 500,		// duration (milliseconds) of notification's fade-in effect (default: 500)
		fadeOutMs: 500,		// duration (milliseconds) of notification's fade-out effect (default: 500)
		position: 'top',	// default notifications position ('top' / 'center')
		zIndex: 10000,		// minimal z-index for notifications
		template: function(settings){ var html = ...; return html; }	// custom html structure
	});</pre></div>
				</div>

			</div>
		</div>
	</section>


</div>

<section id="examples">
	<div class="page-header">
		<h1>Usage - Examples<small></small></h1>
	</div>

<div class="row">
    <div class="span12">

		<h2>Basic Examples</h2>
		<div class="bar-spacer">
			<div class="ex-bar-ph" id="floatBarPh">
				<div class="navbar float-navbar" id="floatBar">
					<div class="btns-block wrapper-940">
						<span class="lbl">Examples</span>
						<button class="btn btn-inverse runnable">notifier.notify("Hi!");</button>
						<button class="btn btn-info runnable">notifier.info("Hi!");</button>
						<button class="btn btn-warning runnable">notifier.warning("Hi!");</button>
						<button class="btn btn-danger runnable">notifier.error("Hi!");</button>
						<button class="btn btn-success runnable">notifier.success("Hi!");</button>
						<a href="#examples" class="more">more Â»</a>
					</div>
				</div>
			</div>
		</div>

		<div class="row">
			<div class="span12">
				<div class="code-wrapper">
					<div class="title">
						<h3>Default notification</h3>
						<button class="run btn btn-primary"></button>
					</div>
					<div class="code">
	<div class="row">
	<div class="span5">
			<pre class="runnable">	notifier.notify("Hello World!");</pre>
	</div>
	<div class="span5">
	<pre class="side prettyprint lang-js">	// Is equivalent to:
	//  notifier.notify({
	//    message: "Hello World!"
	//  });</pre>
	</div>
	</div>
					</div>
				</div>
			</div>
		</div><!-- row -->

		<div class="row">
			<div class="span12">
				<div class="code-wrapper">
					<div class="title">
						<h3>Warning notification</h3>
						<button class="run btn btn-primary"></button>
					</div>
					<div class="code">
						<div class="row">
							<div class="span5">
								<pre class="runnable">	notifier.warning("Hello World!");</pre>
							</div>
							<div class="span5">
	<pre class="side prettyprint lang-js">	// Is equivalent to:
	//  notifier.notify({
	//    message: "Hello World!"
	//    cls: 'warning'
	//  });</pre>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div><!-- row -->



<h2>Advanced Examples</h2>

<div class="row">
	<div class="span12">
		<div class="code-wrapper">
			<div class="title">
				<h3>"Warning" Modal + Buttons + Events</h3>
				<button class="run btn btn-primary"></button>
			</div>
			<div class="code">
<pre class="runnable"><strong>	var confirmMsg = notifier.notify({
		message: "Unsaved changes will be lost. Continue anyway?",
		cls: "warning",
		buttons: [
			{'data-role': 'ok', text: 'Continue'},
			{'data-role': 'cancel', text: 'Cancel', 'class': 'default'}
		],
		modal: true,
		ms: null,
		destroy: false
	})
	.on('click:ok', function(){
		this.destroy();
		notifier.notify({
			message: 'You have clicked "Continue".',
			cls: 'success'
		});
	})
	.on('click:cancel', 'destroy');</strong></pre></div>
		</div>

	</div>
</div><!-- row -->



	<div class="row">
		<div class="span12">
			<div class="code-wrapper">
				<div class="title">
					<h3>"Info" Centered Modal + Buttons + Events</h3>
					<button class="run btn btn-primary"></button>
				</div>
				<div class="code"><pre class="runnable">
<strong>	var confirmMsg = notifier.notify({
		message: "Unsaved changes will be lost. Continue anyway?",
		cls: "info",
		buttons: [
			{'data-role': 'ok', text: 'Continue'},
			{'data-role': 'cancel', text: 'Cancel', 'class': 'default'}
		],
		modal: true,
		position: 'center',
		ms: null,
		destroy: false
	})
	.on('click:ok', function(){
		this.destroy();
		notifier.notify({
			message: 'You have clicked "Continue".',
			cls: 'success'
		});
	})
	.on('click:cancel', 'destroy');</strong></pre></div>
			</div>

		</div>
	</div><!-- row -->

<div class="row">
    <div class="span12">
		<div class="code-wrapper">
			<div class="title">
				<h3>"Info" + (3 sec.) Loader</h3>
				<button class="run btn btn-primary"></button>
			</div>
			<div class="code"><pre class="runnable">
	<strong>notifier.notify({ 
		message: "Loading...",
		cls: "info",
		ms: 3000,
		loader: true
	});</strong></pre></div>
		</div>
	</div>
</div><!-- row -->



<div class="row">
    <div class="span12">
		<div class="code-wrapper">
			<div class="title">
				<h3>Modal + (3 sec.) Loader</h3>
				<button class="run btn btn-primary"></button>
			</div>
			<div class="code"><pre class="runnable">
	<strong>notifier.notify({ 
		message: "Loading...",
		ms: 3000,
		modal: true,
		loader: true
	});</strong></pre></div>
		</div>
	</div>
</div><!-- row -->


<div class="row">
    <div class="span12">
		<div class="code-wrapper">
			<div class="title">
				<h3>Error + Slow Fading + Stays Until Click</h3>
				<button class="run btn btn-primary"></button>
			</div>
			<div class="code"><pre class="runnable">
	<strong>notifier.notify({ 
		message: "&lt;em&gt;Error&lt;/em&gt;: An error has occurred",
		ms: false,
		fadeInMs: 2500,
		fadeOutMs: 2500,
		cls: 'error'
	});</strong></pre></div>
		</div>
	</div>
</div><!-- row -->


<div class="row">
    <div class="span12">
		<div class="code-wrapper">
			<div class="title">
				<h3>Success + Modal + Long Text</h3>
				<button class="run btn btn-primary"></button>
			</div>
			<div class="code"><pre class="runnable">
	<strong>notifier.notify({ 
		cls: 'success',
		fadeInMs: 1000,
		fadeOutMs: 1000,
		modal: true,
		hideOnClick: true,
		message: "&lt;p&gt;Lorem Ipsum is simply dummy text of the printing and typesetting industry.&lt;/p&gt;&lt;p&gt;Lorem Ipsum is simply dummy text of the printing and typesetting industry.&lt;/p&gt;&lt;p&gt;Lorem Ipsum is simply dummy text of the printing and typesetting industry.&lt;/p&gt;&lt;p&gt;Lorem Ipsum is simply dummy text of the printing and typesetting industry.&lt;/p&gt;&lt;p&gt;Lorem Ipsum is simply dummy text of the printing and typesetting industry.&lt;/p&gt;&lt;p&gt;Lorem Ipsum is simply dummy text of the printing and typesetting industry.&lt;/p&gt;&lt;p&gt;Lorem Ipsum is simply dummy text of the printing and typesetting industry.&lt;/p&gt;"
	});</strong></pre></div>
		</div>
		</div>
</div>





	<h2>Ultimate Destruction</h2>




		<div class="row">
			<div class="span12">
				<div class="code-wrapper">
					<div class="title">
						<h3>Destruction by Reference</h3>
						<button class="run btn btn-primary"></button>
					</div>
					<div class="code"><pre class="runnable">
<strong>	var loader = notifier.notify({
		cls: 'info',
		modal: true,
		loader: true,
		myAttr: 'ajaxLoader',
		ms: false,
		position: 'center',
		message: "Loading..."
	});

	notifier.notify({
		cls: 'warning',
		ms: false,
		message: "This is another message, unrelated to the ajax request."
	});

	$.ajax({
		url: 'http://www.google.com/dummy-url/?callback=?',
		timeout: 2000,
		dataType: 'jsonp',
		complete: function(){
		loader.destroy();	// reference
	}
	});</strong></pre></div>
				</div>

			</div>
		</div><!-- row -->



	<div class="row">
		<div class="span12">
			<div class="code-wrapper">
				<div class="title">
					<h3>Notifier.destroyAll()</h3>
					<button class="run btn btn-primary"></button>
				</div>
				<div class="code"><pre class="runnable">
<strong>	notifier.notify({
		cls: 'info',
		modal: true,
		loader: true,
		message: "Loading..."
	});

	$.ajax({
		url: 'http://www.google.com/dummy-url/?callback=?',
		timeout: 2000,
		dataType: 'jsonp',
		complete: function(){
			notifier.destroyAll();	// hide all instances
		}
	});</strong></pre></div>
			</div>

		</div>
	</div><!-- row -->



		<div class="row">
			<div class="span12">
				<div class="code-wrapper">
					<div class="title">
						<h3>Notifier.destroyAll(attributeSelectorKey, attributeSelectorValue)</h3>
						<button class="run btn btn-primary"></button>
					</div>
					<div class="code"><pre class="runnable">
<strong>	notifier.notify({
		cls: 'info',
		modal: true,
		loader: true,
		myAttr: 'ajaxLoader',
		ms: false,
		position: 'center',
		message: "Loading..."
	});

	notifier.notify({
		cls: 'warning',
		ms: 8000,
		message: "This is another message, unrelated to the ajax request."
	});

	$.ajax({
		url: 'http://www.google.com/dummy-url/?callback=?',
		timeout: 2000,
		dataType: 'jsonp',
		complete: function(){
			notifier.destroyAll('myAttr', 'ajaxLoader');	// attribute selector or no arguments to hide all instances
		}
	});</strong></pre></div>
				</div>

			</div>
		</div><!-- row -->



		<div class="row">
			<div class="span12">
				<div class="code-wrapper">
					<div class="title">
						<h3>Destroy Previous Notifications</h3>
						<button class="run btn btn-primary"></button>
					</div>
					<div class="code"><pre class="runnable">
<strong>	notifier.notify({
		cls: 'info',
		modal: true,
		loader: true,
		message: "Loading..."
	});

	$.ajax({
		url: 'http://www.google.com/dummy-url/?callback=?',
		timeout: 2000,
		dataType: 'jsonp',
		complete: function(){
			notifier.notify({
				cls: 'success',
				ms: 10000,
				destroy: true,   // destroy any existing notifications.
						 // can also pass attribute selector (e.g. ['loader', true] )
				message: "Request completed.&lt;br /&gt; &lt;strong&gt;Notice how this notification caused " +
					 "previous notifications to disappear.&lt;/strong&gt;"
			});
		}
	});</strong></pre></div>
				</div>

			</div>
		</div><!-- row -->

	</div>
</div><!-- row -->

</section>









<section id="modules">
	<div class="page-header">
		<h1>Modules</h1>
	</div>

	<div class="row">
		<div class="span12">
			<h4>Backbone.Notifier also features light and simple extendability abilities using unique modules architecture.</h4>
			<p><strong>Load a module</strong>: add a script tag with 'src' to its path, <strong>after</strong> <code>&lt;script type="text/javascript" src="<strong>js/Backbone.Notifier.js</strong>"&gt;&lt;/script&gt;</code>.
				<br>The module should call <code>Notifier.regModule()</code> (as described below).
			</p>

			<p><strong>Enable a module</strong> (after it has been loaded): call <code>Backbone.Notifier.enableModule(<em>moduleName</em>)</code>.</p>
			<p><strong>Disable a module</strong> (after it has been loaded): call <code>Backbone.Notifier.disableModule(<em>moduleName</em>)</code>.</p>
			<p class="alert alert-warning">Please note, modules are shared by all instances of Backbone.Notifier!</p>

			<div id="moduleToggleBlock" class="well">
				<p><strong>Demo: <a href="js/modules/3d.js">3D module</a></strong> (requires modern browser)</p>
				<div id="notSupported3d" class="alert alert-error" style="display: none;">Your browser doesn't support this feature (CSS3 required)</div>
				<button id="btn3d" class="btn btn-primary" data-alt-text="Disable" data-active-text="Disable">Enable</button>
				<label id="lbl3dStatus">Current state: <span data-alt-text="Enabled">Disabled</span></label>
				<div class="clearfix"></div>
			</div>

			<div id="moduleDesign" class="well well-block">
				<h4>Module Design</h4>
				<pre class="prettyprint lang-js">(function(Notifier, $){

	Notifier.regModule({
		name: 'myModule',	//<strong>required</strong>
		enabled: true,		//whether you like the module to be auto-enabled upon registration
		extend: {		//attributes to add to Backbone.Notifier.prototype
			// defaults: {
			//	'myAttrName': 'defaultValue'
			// }
			// ...
		},
		events: {
			'beforeAppendMsgEl': function(notifier, settings, msgEl, msgInner){
				//some code
			},
			'beforeAnimateInMsgEl': function(notifier, settings, msgEl, msgInner, msgView){
				//some code
			},
			'afterAnimateInMsgEl': function(notifier, settings, msgEl, msgInner, msgView){
				//some code
			},
			'beforeHideMsgEl': function(notifier, settings, msgEl, msgInner, msgView){
				//some code
			},
			'afterDestroyMsgEl': function(notifier, settings, msgEl, msgInner, msgView){
				//some code
			}
		},
		register: function(){
			console.log('registered module ' + this.name);
		},
		enable: function(){
			console.log('enabled module ' + this.name);
		},
		disable: function(){
			console.log('disabled module ' + this.name);
		}
	});

})(Backbone.Notifier, jQuery);</pre>
			</div>

		</div>
	</div>
</section>

<div id="footer"></div>


</div>





 <!-- Dependencies -->
<script type="text/javascript" src="dependencies/jquery-1.7.2.min.js"></script> 
<script type="text/javascript" src="dependencies/underscore-1.3.3.min.js"></script> 
<script type="text/javascript" src="dependencies/backbone-0.9.2.js"></script>
 <!-- /Dependencies -->

 <!-- Backbone.Notifier -->
<script type="text/javascript" src="js/Backbone.Notifier.js?_2"></script>
<script type="text/javascript" src="js/modules/3d.js?_2"></script><!-- Optional (3d module) -->
 <!-- /Backbone.Notifier -->

 <!-- Used by example page -->
 <script type="text/javascript" src="example-js/prettify.js"></script>
 <!-- /Used by example page -->


<script type="text/javascript">

 $(function(){

	 var notifier = window.notifier = new Backbone.Notifier({
		 ms: 5000
	 });

	 var moduleToggleBlock = $('#moduleToggleBlock');

	 if ($.browser.msie && $.browser.version < 9) {
		 $('#notSupported3d').show();
	 }

	 moduleToggleBlock.find('button').click(function(){

		 var $btn = $(this),
		 	active = $btn.data('alt-text') === $(this).data('active-text');

		 moduleToggleBlock.find('[data-alt-text]').each(function(){
			var $el = $(this),
				curText = $el.text();
			$el.text($el.data('alt-text'));
			$el.data('alt-text', curText);
		});

		 Backbone.Notifier[active ? 'enableModule' : 'disableModule' ]('3d');
		 notifier[active ? 'success' : 'error']({
			 message: "3D module is now " + (active ? 'enabled' : 'disabled'),
			 position: 'center',
			 modal: true,
			 ms: -1,
			 hideOnClick: true,
			 destroy: true,
			 buttons: [
				 {'data-role': 'ok', text: 'Dismiss'}
			 ]
		 });
	 });


	 $('.btns-block').on('click', '.runnable', function(){
		 eval($(this).text());
	 });

	 $('pre.runnable').each(function(){
		$(this).data('code',
				$(this).text()
				.replace(/<strong>/ig,'')
				.replace(/<\/strong>/ig,'')
				.replace(/&lt;/ig,'<')
				.replace(/&gt;/ig,'>')
		).addClass('prettyprint lang-js');
	 });

	$('.code-wrapper button.run').click(function(){
		var js = $(this).closest('.code-wrapper').find('pre.runnable').data('code');
		eval(js);
	});

	 var floatBarPh = $('#floatBarPh'),
		 floatBar = floatBarPh.children('div'),
		 barH =  floatBar.height(),
		 curPos = 'fixed',
		 pageH,
		 fTop;
	 var updatePos = function(){
		 pageH = $(window).height();
		 fTop = floatBarPh.position().top;
	 };
	 $(window).resize(updatePos);
	 updatePos();

	 $(window).scroll(function(){
		 var cvPos = $(window).scrollTop();
		 if (cvPos > fTop - pageH + barH) {
			 if (curPos !== 'absolute') {
				 curPos = 'absolute';
				 floatBar.css({position: curPos}).addClass('in-place');
			 }
		 } else {
			 if (curPos !== 'fixed') {
				 curPos = 'fixed';
				 floatBar.css({position: curPos}).removeClass('in-place');
			 }
		 }
	 });

	 $('.more').on('click', function(event){
		 event.preventDefault();
		 var t =$($(this).attr('href'));
		 t.length && $('html,body').animate({scrollTop:t.offset().top-20}, 1000);
	 });


	 var onTourEnd = function(){
		$('#btnTour').fadeIn(2000);
	 };

	var tour = function(){


		 notifier.notify({
			 message: "Hi, would you like really a quick tour?",
			 cls: "info",
			 buttons: [
				 {'data-role': 'ok', text: 'Yes!', 'class': 'default'},
				 {'data-role': 'cancel', text: 'Not now'}
			 ],
			 hideOnClick: false,
			 modal: false,
			 ms: 10000
		 })
		 .on('click:ok', function(){
			 this.destroy();

			 notifier.notify({
				 message: "You can set different styles and positions. Wanna see more?",
				 cls: 'warning',
				 position: 'center',
				 modal: true,
				 ms: false,
				 buttons: [
					 {'data-role': 'ok', text: 'Sure!', 'class': 'default'},
					 {'data-role': 'cancel', text: 'No, I think I\'ve got it'}
				 ]
			 })
			 .on('click:ok', function(){
				 this.destroy();

				 notifier.notify({
					 message: 'It is very flexible and customizable.',
					 loader: true,
					 modal: true,
					 hideOnClick: true,
					 ms: 3500
				 }).on('destroyed', function(){

					 notifier.notify({
						 message: 'Supports multiple notifications and much more...<br /> <strong>Thanks for taking the tour!</strong>',
						 buttons: [
							 {'data-role': 'dismiss', text: 'Dismiss', 'class': 'default'}
						 ],
						 cls: 'success',
						 modal: true,
						 hideOnClick: false,
						 ms: false
					 })
					 .on('click:dismiss', 'destroy')
					 .on('destroyed', onTourEnd);

					setTimeout(function(){
						notifier.notify({
							modal: true,
							message: 'Includes useful event mechanism with great API.',
							cls: 'error',
							hideOnClick: true,
							ms: 3500
						});
					}, 300);



				 });
			 })
			 .on('click:cancel', function(){
				 this.destroy();
				 onTourEnd();
			 });

		 })
		 .on('click:cancel timeout', function(){
			 this.destroy();
			 onTourEnd();
		 });

	};

	tour();
	$('#btnTour').click(tour);
	 window.prettyPrint();

 });

</script>



<!--Google Analytics-->
 <script type="text/javascript">
	 var _gaq = _gaq || [];
	 _gaq.push(['_setAccount', 'UA-30524203-1']);
	 _gaq.push(['_trackPageview']);

	 (function() {
		 var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
		 ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
		 var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
	 })();
 </script>
</body> 
</html>